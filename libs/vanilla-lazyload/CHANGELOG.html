<h1 id="CHANGELOG"><a href="#CHANGELOG" class="headerlink" title="CHANGELOG"></a>CHANGELOG</h1><h2 id="Version-17"><a href="#Version-17" class="headerlink" title="Version 17"></a>Version 17</h2><h4 id="17-1-0"><a href="#17-1-0" class="headerlink" title="17.1.0"></a>17.1.0</h4><ul>
<li>Unobserve all elements on <code>loadAll()</code> call. It‚Äôs better for performance, and it solves #469.</li>
<li>Added some hidden images in the <code>load_all.html</code> demo</li>
</ul>
<h4 id="17-0-1"><a href="#17-0-1" class="headerlink" title="17.0.1"></a>17.0.1</h4><ul>
<li>Bug fix: <code>callback_exit()</code> was not being called on non-image elements (#468).</li>
</ul>
<h4 id="17-0-0"><a href="#17-0-0" class="headerlink" title="17.0.0"></a>17.0.0</h4><ul>
<li>The <code>elements_selector</code> option now defaults to  <code>.lazy</code> (was <code>img</code>)</li>
<li>The <code>cancel_on_exit</code> option now defaults to <code>true</code> (was <code>false</code>)</li>
</ul>
<p>See <a href="UPGRADE.md">UPGRADE.md</a> to understand <strong>if</strong> you are impacted by any breaking change and <strong>how</strong> to upgrade from previous versions.</p>
<hr>
<p><strong>Love this project? üòç <a href="https://ko-fi.com/verlok">Buy me a coffee!</a></strong></p>
<hr>
<h2 id="Version-16"><a href="#Version-16" class="headerlink" title="Version 16"></a>Version 16</h2><h4 id="16-1-0"><a href="#16-1-0" class="headerlink" title="16.1.0"></a>16.1.0</h4><p>Improved speed, cleaning DOM, better working destroy, and also fixed 2 bugs.</p>
<ul>
<li>Cleaning up <code>data</code> attributes from the DOM when finished using them (mainly when elements have finished loading)</li>
<li>Improved <code>destroy</code> method, which now also removes lazyload‚Äôs additions to the DOM elements</li>
<li>Video elements are now only listening to the <code>loadeddata</code> event, no longer to <code>load</code></li>
<li>Removed constants containing strings. I thought it would produced shorter minified code, but discovered that terser expands them to strings.</li>
<li>Bugfix: when lazily loading videos, the error <code>_poster_ is undefined</code> was thrown</li>
<li>Bugfix: when selecting native lazy loading, the <code>loading</code> class was added without knowing whether or not the loading had started</li>
</ul>
<h4 id="16-0-0"><a href="#16-0-0" class="headerlink" title="16.0.0"></a>16.0.0</h4><p>Functional changes:</p>
<ul>
<li>Removed call to deprecated <code>callback_reveal</code></li>
<li>Removed deprecated instance <code>load()</code> method in favor of the static <code>LazyLoad.load()</code> method</li>
<li>Replaced <code>auto_unobserve</code> with <code>unobserve_completed</code>, still defaulting to <code>true</code></li>
<li>Introduced a new <code>unobserve_entered</code> option (useful to execute lazy functions once)</li>
<li>Created a demo called <code>lazy_functions.html</code> to show how to execute functions as elements enter the viewport</li>
<li>Wrote a new recipe to facilitate the lazy execution of scripts/functions</li>
<li>Renamed instance method <code>resetElementStatus()</code> to the static <code>LazyLoad.resetStatus()</code></li>
<li>Removed the <code>load_delay</code> option since there‚Äôs no more use for it</li>
<li>Removed the <code>load_delay</code> related demos</li>
</ul>
<p>See <a href="UPGRADE.md">UPGRADE.md</a> to understand <strong>if</strong> you are impacted by any breaking change and <strong>how</strong> to upgrade from previous versions.</p>
<p>Internal changes:</p>
<ul>
<li>Simplified management of the <code>cancel_on_exit</code> with less increase/decrease of the <code>toLoadCount</code> property</li>
<li>Refactored counters functions in a new <code>lazyload.counters</code> file</li>
</ul>
<hr>
<p><strong>Love this project? üòç <a href="https://ko-fi.com/verlok">Buy me a coffee!</a></strong></p>
<hr>
<h2 id="Version-15"><a href="#Version-15" class="headerlink" title="Version 15"></a>Version 15</h2><h4 id="15-2-0"><a href="#15-2-0" class="headerlink" title="15.2.0"></a>15.2.0</h4><p>OPTIMIZE FOR SLOW CONNECTIONS WITH <code>cancel_on_exit</code></p>
<p>Want to optimize speed for users who scroll down fast on a slow connection? Just set <code>cancel_on_exit: true</code> and LazyLoad will cancel the download of images exiting the viewport while still loading, eventually restoring the original attributes.</p>
<ul>
<li>Introduced the new <code>cancel_on_exit</code> option.</li>
<li>Introduced the <code>callback_cancel</code> option, just in case you want to perform any additional action whenever a download gets canceled by <code>cancel_on_exit</code>.</li>
<li>Created a new demo named <code>cancel_on_exit.html</code> so you can try the new <code>cancel_on_exit</code> option live.</li>
<li>Set <code>cancel_on_exit</code> to <code>true</code> in the following demos, so you can test how it behaves‚Ä¶<ul>
<li><code>image_ph_inline.html</code>, with an inline SVG placeholder</li>
<li><code>image_ph_external.html</code>, with an external SVG placeholder</li>
<li><code>delay_test.html</code>, in conjuction with the <code>delay_load</code> option</li>
<li><code>fade_in.html</code>, with a beautiful fade-in effect.</li>
</ul>
</li>
</ul>
<p>The <code>cancel_on_exit</code> option applies only to images so to the <code>img</code> (and <code>picture</code>) tags. It doesn‚Äôt work for background images, <code>iframe</code>s nor <code>video</code>s.</p>
<p>The <code>cancel_on_exit</code> option will probably default to <code>true</code> starting from the next major version, so give it a try! And please report your feedback in the comments of <a href="https://github.com/verlok/vanilla-lazyload/issues/438">#438</a>.</p>
<p>API</p>
<ul>
<li>Added the <code>resetElementStatus()</code> method for when you need to tell LazyLoad to consider an image (or other DOM element) again. This is particularly useful if you change the <code>data-src</code> attribute after the previous <code>data-src</code> was loaded). See the <a href="README.md#-api">API section</a> in the README file for more information.</li>
</ul>
<p>FIX</p>
<ul>
<li>The <code>callback_exit</code> callback was called several times (for every images out of the viewport) at instance creation or upon <code>update()</code> calls. Now the callback is properly called only when any element exits the viewport.</li>
</ul>
<p>INTERNALS</p>
<ul>
<li>Improved script performance by reducing the number of event listeners used for loading elements.</li>
<li>Changed the values that the (internally used) <code>data-ll-status</code> attribute can take. Removed the status <code>&quot;observed&quot;</code> (it was useless) and introduced status <code>&quot;delayed&quot;</code>.</li>
</ul>
<h4 id="15-1-1"><a href="#15-1-1" class="headerlink" title="15.1.1"></a>15.1.1</h4><p>Fixed a bug when loading lazy background images on HiDPI screens, <code>data-bg-hidpi</code> was mandatory, not it fallbacks to <code>data-bg</code>. #430</p>
<h4 id="15-1-0"><a href="#15-1-0" class="headerlink" title="15.1.0"></a>15.1.0</h4><p>Lazy background images just gained support for hiDPI (‚Äúretina‚Äù) screens!<br>Place your standard resolution images in the <code>data-bg</code> attribute and your hiDPI images in <code>data-bg-hidpi</code>.<br>Same for <code>data-bg-multi</code> and <code>data-bg-multi-hidpi</code>.</p>
<h4 id="15-0-0"><a href="#15-0-0" class="headerlink" title="15.0.0"></a>15.0.0</h4><p><strong>Lazy background images gained loaded/error classes and callbacks! üéâ</strong></p>
<p><strong>Breaking changes impacting lazy background images!</strong> ‚ö† See <a href="UPGRADE.md">UPGRADE.md</a> to understand <strong>if</strong> you are impacted and <strong>how</strong> to upgrade from previous versions.</p>
<ul>
<li>Lazy loading of <strong>one background image</strong> using the <code>data-bg</code> attribute, now manages the <code>load</code> and <code>error</code> events, so they are applied the classes defined in the <code>class_loading</code>/<code>class_loaded</code>/<code>class_error</code>, and the callbacks defined in <code>callback_loading</code>/<code>callback_loaded</code>/<code>callback_error</code>.</li>
<li>Lazy loading of <strong>multiple background images</strong> is still possible via the <code>data-bg-multi</code> attribute. In this case, the <code>load</code> and <code>error</code> events are not managed. The <code>class_applied</code> and <code>callback_applied</code> can be used to understand when the multiple background was applied to the element.</li>
<li>Updated background images demos:<ul>
<li>background-images.html -&gt; single background images</li>
<li>background-images-multi.html -&gt; multiple background images</li>
</ul>
</li>
<li>Added <a href="UPGRADE.md">UPGRADE.md</a>, a guide on how to upgrade from previous versions (from version 12 up)</li>
</ul>
<hr>
<p><strong>Love this project? üòç <a href="https://ko-fi.com/verlok">Buy me a coffee!</a></strong></p>
<hr>
<h2 id="Version-14"><a href="#Version-14" class="headerlink" title="Version 14"></a>Version 14</h2><h4 id="14-0-1"><a href="#14-0-1" class="headerlink" title="14.0.1"></a>14.0.1</h4><p>Fixed error TS1036: Statements are not allowed in ambient contexts. Closes #427</p>
<h4 id="14-0-0"><a href="#14-0-0" class="headerlink" title="14.0.0"></a>14.0.0</h4><p>üéâ <strong>Major refactoring and performance improvement!</strong><br>üîç File size stays tiny: only 2.07 KB gZipped</p>
<p><strong>Settings</strong></p>
<ul>
<li><code>callback_loading</code> is called when an element started loading</li>
<li><code>callback_reveal</code> is now <strong>‚ö† DEPRECATED, use <code>callback_loading</code> instead</strong> (it‚Äôs the same thing, it was just renamed). <code>callback_reveal</code> will be removed and will stop working in version 15.</li>
</ul>
<p><strong>Instance methods</strong></p>
<ul>
<li><code>update()</code> method now <strong>also unobserves deleted elements</strong>, instead of just looking for and observing new elements</li>
<li><code>destroy()</code> <strong>destroys better</strong> than it did before, <code>delete</code>-ing properties instead of setting their values to <code>null</code></li>
<li><code>load()</code> method (as an instance method) is now <strong>‚ö† DEPRECATED, use the static method instead</strong>. If you were using <code>aLazyLoadInstance.load(element)</code> you should change it to <code>LazyLoad.load(element, settings)</code>.</li>
</ul>
<p><strong>Static methods</strong></p>
<ul>
<li><code>load()</code> was added as a static method. Note that if you need to use custom settings, you need to pass them in the <code>settings</code> parameter.</li>
</ul>
<p><strong>Instance properties</strong></p>
<ul>
<li>Added <code>toLoadCount</code>. It‚Äôs the counter of the elements that haven‚Äôt been lazyloaded yet.</li>
</ul>
<p><strong>DOM</strong></p>
<ul>
<li>Removed the <code>data-was-processed</code> attribute, that was added to mark lazy DOM elements as ‚Äúalready managed‚Äù. If you were manually handling that attribute to obtain some goal, this is a potentially breaking change. You should now refer to the <code>data-ll-status</code> instead.</li>
<li>Added the <code>data-ll-status</code> attribute, which is now used to mark the status of a lazy DOM element. The values it can take are: <code>observing</code> (not loaded yet), <code>loading</code> (loading started), <code>loaded</code> (load completed), <code>error</code> (an error has occured), <code>native</code> (similar to <code>observing</code>, but managed by native lazy loading).</li>
</ul>
<hr>
<p><strong>Love this project? üòç <a href="https://ko-fi.com/verlok">Buy me a coffee!</a></strong></p>
<hr>
<h2 id="Version-13"><a href="#Version-13" class="headerlink" title="Version 13"></a>Version 13</h2><h4 id="13-0-1"><a href="#13-0-1" class="headerlink" title="13.0.1"></a>13.0.1</h4><ul>
<li>Fixed a JS error that could happen to IE11 users after going offline and back online</li>
<li>Minor refactoring for better readibility and lighter code (and files)!</li>
</ul>
<h4 id="13-0-0"><a href="#13-0-0" class="headerlink" title="13.0.0"></a>13.0.0</h4><ul>
<li>Added the minified version of <code>dist/lazyload.esm.js</code> as <code>dist/lazyload.esm.min.js</code>, so now you can effortlessly use it with an ES module <code>import</code> statement when using <code>type=&quot;module&quot;</code></li>
<li>Reduced files weight even more! <code>dist/lazyload.iife.min.js</code> now weights only 2.03 KB GZipped</li>
<li>Removed the <code>callback_set</code> callback that was <strong>deprecated</strong> since version 11 in favour of <code>callback_reveal</code></li>
<li>Removed sourcemaps (they were probably used only by the authors, but if anyone was actually needing them, we can bring them back)</li>
<li>Hidden the <code>_extends</code> function inside LazyLoad‚Äôs scope (it was global before)</li>
<li>Updated build tooling: removed Gulp, now using Rollup &amp; Babel only</li>
</ul>
<h2 id="Version-12"><a href="#Version-12" class="headerlink" title="Version 12"></a>Version 12</h2><h4 id="12-5-1"><a href="#12-5-1" class="headerlink" title="12.5.1"></a>12.5.1</h4><p>Restored IE 11 compatibility, which was broken since 12.2.0. See #414.<br>Thanks to @ninosaurus for reporting.</p>
<h4 id="12-5-0"><a href="#12-5-0" class="headerlink" title="12.5.0"></a>12.5.0</h4><p>The once-private <code>_loadingCount</code> property is now public and renamed to <code>loadingCount</code>. This property contains the number of images that are currently downloading from the network, limitedly to the ones managed by an instance of LazyLoad. This is particularly useful to understand whether or not is safe to destroy an instance of LazyLoad. See implementation in the <a href="demos/destroy.html">destroy demo</a>.</p>
<p>Thanks to @wzhscript and @eugene-stativka.</p>
<h4 id="12-4-0"><a href="#12-4-0" class="headerlink" title="12.4.0"></a>12.4.0</h4><p>Video <code>poster</code>s can now be loaded lazily, as requested in #365</p>
<h4 id="12-3-0"><a href="#12-3-0" class="headerlink" title="12.3.0"></a>12.3.0</h4><p>Callbacks now pass more arguments!</p>
<p><code>callback_enter</code>, <code>callback_exit</code> now pass:</p>
<ol>
<li>the DOM element that entered / exited the viewport</li>
<li>the <code>IntersectionObserverEntry</code> that triggered the enter/exit event</li>
<li>the LazyLoad instance</li>
</ol>
<p><code>callback_load</code>, <code>callback_error</code>, <code>callback_reveal</code> now pass</p>
<ol>
<li>the DOM element that entered / exited the viewport</li>
<li>the LazyLoad instance</li>
</ol>
<p><code>callback_finish</code> now passes:</p>
<ol>
<li>the LazyLoad instance</li>
</ol>
<p>The README file has been updated accordingly.</p>
<h4 id="12-2-0"><a href="#12-2-0" class="headerlink" title="12.2.0"></a>12.2.0</h4><p>Released new feature ‚Äúretry when back online‚Äù. Now if your users lose the internet connection causing errors on images loading, this script tries and loads those images again when the connection is restored.</p>
<h4 id="12-1-1"><a href="#12-1-1" class="headerlink" title="12.1.1"></a>12.1.1</h4><p>Solved a bug with Internet Explorer 11 and the W3C polyfill, as reported in #383.</p>
<h4 id="12-1-0"><a href="#12-1-0" class="headerlink" title="12.1.0"></a>12.1.0</h4><ul>
<li>Updated npm dev dependencies</li>
<li>Added the new <code>image_ph_inline.html</code>, with an inline SVG placeholder</li>
<li>Added the new <code>image_ph_external.html</code>, with an external SVG placeholder</li>
</ul>
<h4 id="12-0-3"><a href="#12-0-3" class="headerlink" title="12.0.3"></a>12.0.3</h4><p>Updated the IntersectionObserver polyfill to version 0.7.0</p>
<h4 id="12-0-2"><a href="#12-0-2" class="headerlink" title="12.0.2"></a>12.0.2</h4><p>Improved detection of browser support of IntersectionObserver, as suggested in #362. Thanks to @kaldonir</p>
<h4 id="12-0-1"><a href="#12-0-1" class="headerlink" title="12.0.1"></a>12.0.1</h4><p>Updated CHANGELOG.md and README.md to mention the change of the option name <code>callback_load</code> which is called <code>callback_loaded</code> in versions 11.0.0 and above.</p>
<h4 id="12-0-0"><a href="#12-0-0" class="headerlink" title="12.0.0"></a>12.0.0</h4><ul>
<li>Reorganized code</li>
<li>Improved native lazy loading demos</li>
<li>Aligned console messages throughout all demos.</li>
</ul>
<h4 id="12-0-0-beta-0"><a href="#12-0-0-beta-0" class="headerlink" title="12.0.0-beta.0"></a>12.0.0-beta.0</h4><ul>
<li>Added the <code>use_native</code> option which enables <em>native lazy loading</em> (where supported) with the <code>loading=&quot;lazy&quot;</code> attribute. See #331</li>
<li>Added two demos:<ul>
<li>native_lazyload_conditional.html which you can use to test the <code>use_native</code> option</li>
<li>native_lazyload.html which always uses native lazy loading (without JS) just to test how it works beyond the LazyLoad script</li>
</ul>
</li>
<li>Refactored the constructor and the <code>update</code> method</li>
</ul>
<h2 id="Version-11"><a href="#Version-11" class="headerlink" title="Version 11"></a>Version 11</h2><h4 id="11-0-6"><a href="#11-0-6" class="headerlink" title="11.0.6"></a>11.0.6</h4><p>Restored the <code>callback_set</code> callback as <strong>deprecated</strong>, in order to make the upgrade from v.10 easier.</p>
<h4 id="11-0-5"><a href="#11-0-5" class="headerlink" title="11.0.5"></a>11.0.5</h4><p>Fixed the <code>module</code> property of this package.json, which was pointing to a non-existing dist file.</p>
<h4 id="11-0-4"><a href="#11-0-4" class="headerlink" title="11.0.4"></a>11.0.4</h4><p>Fixed the <code>main</code> property of this package.json, which was pointing to a non-existing dist file.</p>
<h4 id="11-0-3"><a href="#11-0-3" class="headerlink" title="11.0.3"></a>11.0.3</h4><p>Rollback of the patch applied in 11.0.2 since it gave strange results in some cases. See #293. Thanks to @davejamesmiller for the analysis and the report.</p>
<h4 id="11-0-2"><a href="#11-0-2" class="headerlink" title="11.0.2"></a>11.0.2</h4><p>Applied a patch to resolve #293 a <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=910741#c13">Chromium bug</a> already fixed in Chrome 72. Thanks to @dverbovyi for the analysis and the report.</p>
<h4 id="11-0-1"><a href="#11-0-1" class="headerlink" title="11.0.1"></a>11.0.1</h4><p>Squashed a nasty bug that occurred on IE 11 and Safari when the <code>IntersectionObserver</code> polyfill wasn‚Äôt loaded before LazyLoad.</p>
<h4 id="11-0-0"><a href="#11-0-0" class="headerlink" title="11.0.0"></a>11.0.0</h4><ul>
<li>Changed bundle file name of ES Module from <code>lazyload.es2015.js</code> to <code>lazyload.esm.js</code></li>
<li>Removed the <code>to_webp</code> option (see issue #288)</li>
<li>Ceased support and development of LazyLoad v.8 (see issue #306)<br>version. If you were using it, please update your code to use <code>callback_reveal</code> instead.</li>
<li>Private methods like <code>_setObserver</code>, <code>_onIntersection</code> etc. are now hidden from the outside.</li>
<li>Added the <code>auto_unobserve</code> boolean option, see API.</li>
<li>Bugfix: <code>loadAll()</code> didn‚Äôt unobserve elements.</li>
<li>Updated to Jest 24, Babel 7, etc.</li>
<li>Fixed dev dependencies vulnerabilities</li>
<li>Updated callbacks. See below:</li>
</ul>
<p>Callbacks updated:</p>
<ul>
<li><strong>Changed</strong> <code>callback_enter</code>. This callback is now called whenever an element enters the viewport, even when <code>load_delay</code> is set. In previous versions, this callback was delayed until an element started loading if a <code>load_delay</code> was set. Note that this is a <strong>possible breaking change</strong>, which you can fix using <code>callback_reveal</code> instead.</li>
<li><strong>Renamed</strong> <code>callback_loaded</code> is the new name of <code>callback_load</code>.</li>
<li><strong>Added</strong> <code>callback_exit</code>. This callback is called whenever an element exits the viewport, even if a <code>load_delay</code> is set.</li>
<li><strong>Added</strong> <code>callback_reveal</code>. This callback is called just after an element starts loading.</li>
<li><strong>Deprecated</strong> <code>callback_set</code>. This callback still works*, but will be removed in the next major</li>
</ul>
<p>* it didn‚Äôt work from versions 11.0.0 to 11.0.5, it still works from 11.0.6.</p>
<h2 id="Version-10"><a href="#Version-10" class="headerlink" title="Version 10"></a>Version 10</h2><h4 id="10-20-1"><a href="#10-20-1" class="headerlink" title="10.20.1"></a>10.20.1</h4><p>Fixed a bug for which LazyLoad didn‚Äôt copy the <code>data-sizes</code> attribute value to <code>sizes</code> in <code>source</code> tags inside <code>picture</code>. See #307.</p>
<h4 id="10-20-0"><a href="#10-20-0" class="headerlink" title="10.20.0"></a>10.20.0</h4><p>Improved WebP detection to work correctly on Firefox too, see #298.</p>
<p>Thanks to @ipernet for contributing.</p>
<h4 id="10-19-1"><a href="#10-19-1" class="headerlink" title="10.19.1"></a>10.19.1</h4><ul>
<li>Fixed build for those using React + SSR, see #287</li>
<li>TypeScript definitions clearified, see #283</li>
<li>Gulp updated to v.4.0.0 to make it work with node 10</li>
</ul>
<p>Thanks to @AlexCSR and @muturgan for contributing.</p>
<h4 id="10-19-0"><a href="#10-19-0" class="headerlink" title="10.19.0"></a>10.19.0</h4><ul>
<li>Added the ability to know when all images have been downloaded through the <code>callback_finish</code> callback.</li>
<li>Added the file <code>demos/print.html</code> to demo how to print lazy images.</li>
</ul>
<h4 id="10-18-0"><a href="#10-18-0" class="headerlink" title="10.18.0"></a>10.18.0</h4><p>Added the ability to have multiple background images, through the new <code>data_bg</code> option.</p>
<h4 id="10-17-0"><a href="#10-17-0" class="headerlink" title="10.17.0"></a>10.17.0</h4><p>Added the ability to set different thresholds for the scrolling area, through the new <code>thresholds</code> option.</p>
<h4 id="10-16-2"><a href="#10-16-2" class="headerlink" title="10.16.2"></a>10.16.2</h4><p><strong>BUGFIX</strong>: Class <code>loaded</code> was not applied to a loaded video (issue #239).</p>
<h4 id="10-16-1"><a href="#10-16-1" class="headerlink" title="10.16.1"></a>10.16.1</h4><p><strong>BUGFIX</strong>: Autoplaying video not loaded correctly after entering the viewport (issue #240). Thanks to @maeligg.</p>
<h4 id="10-16-0"><a href="#10-16-0" class="headerlink" title="10.16.0"></a>10.16.0</h4><p>Added new option <code>load_delay</code> to skip loading when fast scrolling occurs, as requested in issues #235 and #166.<br>Pass in a number of milliseconds, and each image will be loaded after it stayed inside that viewport for that time.</p>
<h4 id="10-15-0"><a href="#10-15-0" class="headerlink" title="10.15.0"></a>10.15.0</h4><ul>
<li>Refactorized code &amp; improved script performance</li>
<li><strong>BUGFIX</strong>: Fixed webpack import (issue #230) <code>TypeError: default is not a constructor</code></li>
</ul>
<h4 id="10-14-0"><a href="#10-14-0" class="headerlink" title="10.14.0"></a>10.14.0</h4><p>Now supporting WebP through dynamic extension rename if the user browser is compatible.</p>
<h4 id="10-13-0"><a href="#10-13-0" class="headerlink" title="10.13.0"></a>10.13.0</h4><ul>
<li>Shortened the RegEx for crawlers detection (shaved a few bytes)</li>
<li>Released LazyLoad in new module types! Enjoy the new flavours :)</li>
</ul>
<table>
<thead>
<tr>
<th>Filename</th>
<th>Module Type</th>
<th>Advantages</th>
</tr>
</thead>
<tbody><tr>
<td><code>lazyload.min.js</code></td>
<td>UMD (Universal Module Definition)</td>
<td>Works pretty much everywhere, even in common-js contexts</td>
</tr>
<tr>
<td><code>lazyload.iife.min.js</code></td>
<td>IIFE (Immediately Invoked Function Expression)</td>
<td>Works as in-page <code>&lt;script src=&quot;&quot;&gt;</code>, ~0.5kb smaller minified</td>
</tr>
<tr>
<td><code>lazyload.amd.min.js</code></td>
<td>AMD (Asynchronous Module Definition)</td>
<td>Works with the <em>require.js</em> module loader, ~0.5kb smaller minified</td>
</tr>
<tr>
<td><code>lazyload.es2015.js</code></td>
<td>ES Module type</td>
<td>Exports <code>LazyLoad</code> so you can import it in your project</td>
</tr>
</tbody></table>
<h4 id="10-12-0"><a href="#10-12-0" class="headerlink" title="10.12.0"></a>10.12.0</h4><p>SEO! Expanded SEO-friendliness to more crawlers, Bingbot included.</p>
<h4 id="10-11-1"><a href="#10-11-1" class="headerlink" title="10.11.1"></a>10.11.1</h4><p><strong>BUGFIX</strong>: Fixed issue #225. Due to mistyped BOT detection, in version 10.11.0 all images were loaded as soon as <code>LazyLoad</code> was created.</p>
<h4 id="10-11-0"><a href="#10-11-0" class="headerlink" title="10.11.0"></a>10.11.0</h4><p>SEO! Version 10.x is now as SEO-friendly as version 8.x.</p>
<h4 id="10-10-0"><a href="#10-10-0" class="headerlink" title="10.10.0"></a>10.10.0</h4><p>Added a public <code>load</code> method to lazyload any element.</p>
<h4 id="10-9-0"><a href="#10-9-0" class="headerlink" title="10.9.0"></a>10.9.0</h4><p>Added the ability to lazily set the <code>sizes</code> attribute via a <code>data-sizes</code> attribute.<br>See the <a href="README.md">README</a> file for more information.</p>
<h4 id="10-8-0"><a href="#10-8-0" class="headerlink" title="10.8.0"></a>10.8.0</h4><p>Added a public <code>loadAll</code> method to loading all the images at once, as asked in #193.</p>
<h4 id="10-7-0"><a href="#10-7-0" class="headerlink" title="10.7.0"></a>10.7.0</h4><ul>
<li>Added support for the <code>&lt;video&gt;</code> HTML tag and descending <code>&lt;source&gt;</code> tags.<br>Now you can lazily load your videos too!</li>
<li>Created the <code>video.html</code> demo.</li>
</ul>
<h4 id="10-6-0"><a href="#10-6-0" class="headerlink" title="10.6.0"></a>10.6.0</h4><ul>
<li>Added a demo with a popup layer and images injected after popup open, to help with #196.</li>
<li>Updated the <code>background_images</code> demo with a custom management of the loading class and the loaded event callback.</li>
</ul>
<h4 id="10-5-2"><a href="#10-5-2" class="headerlink" title="10.5.2"></a>10.5.2</h4><p>Added a security check on lazy elements‚Äô parents.</p>
<h4 id="10-5-1"><a href="#10-5-1" class="headerlink" title="10.5.1"></a>10.5.1</h4><p>Just a refactoring over previous version.</p>
<h4 id="10-5-0"><a href="#10-5-0" class="headerlink" title="10.5.0"></a>10.5.0</h4><p>Added node support by merging pull request #188, ‚Äúnode-support‚Äù by @klarstrup.</p>
<p>With these changes in place, simply importing vanilla-lazyload without using it won‚Äôt crash Node by itself. This is important for isomorphic/universal/server rendered setups where the same code runs on both the server and the browser.</p>
<h4 id="10-4-2"><a href="#10-4-2" class="headerlink" title="10.4.2"></a>10.4.2</h4><p>Fixed a bug for which sometimes images wouldn‚Äôt reveal on Chrome 65 (see issue #165).</p>
<h4 id="10-4-1"><a href="#10-4-1" class="headerlink" title="10.4.1"></a>10.4.1</h4><p>Updated <code>dist</code> folder.</p>
<h4 id="10-4-0"><a href="#10-4-0" class="headerlink" title="10.4.0"></a>10.4.0</h4><p>Added the <code>callback_enter</code> callback, which is called whenevery any element managed by LazyLoad enters the viewport, as requested in #159. Thanks to @alvarotrigo.</p>
<h4 id="10-3-6"><a href="#10-3-6" class="headerlink" title="10.3.6"></a>10.3.6</h4><p>Fixed tests to match dataset revert made in 10.3 and 8.2 (oopsy).</p>
<h4 id="10-3-5"><a href="#10-3-5" class="headerlink" title="10.3.5"></a>10.3.5</h4><p>Fixed a bug that could occur on older versions of IE when trying to access an image‚Äôs parent node.</p>
<h4 id="10-3-4"><a href="#10-3-4" class="headerlink" title="10.3.4"></a>10.3.4</h4><p>Fixed a CustomEvent bug which occurred on IE when using async object initialization.</p>
<h4 id="10-3-3"><a href="#10-3-3" class="headerlink" title="10.3.3"></a>10.3.3</h4><p>Fixed <code>supportsClassList</code> test to work even when the <code>document</code> object isn‚Äôt yet there. Thanks to @Spone and his pull request #145.</p>
<h4 id="10-3-1"><a href="#10-3-1" class="headerlink" title="10.3.1"></a>10.3.1</h4><p>Introduced a workaround for an issue of Microsoft Edge documented <a href="https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/12156111/">here</a></p>
<h4 id="10-3-0"><a href="#10-3-0" class="headerlink" title="10.3.0"></a>10.3.0</h4><p>Restored support to IE9 and IE10, as requested in #118 and #132.</p>
<h4 id="10-2-0"><a href="#10-2-0" class="headerlink" title="10.2.0"></a>10.2.0</h4><p>To solve cases when you can‚Äôt select the elements to load using a string, added the ability to pass a <code>NodeList</code> object‚Ä¶</p>
<ul>
<li>as a second parameter in the constructor, after the regular option object, e.g. <code>var ll = new Lazyload({}, myNodeList)</code></li>
<li>as a single parameter to the <code>update()</code> method, e.g. <code>ll.update(myNodeList)</code></li>
</ul>
<h4 id="10-1-0"><a href="#10-1-0" class="headerlink" title="10.1.0"></a>10.1.0</h4><p>To solve cases when you can‚Äôt select the elements to load using a string, added the ability to pass a <code>NodeList</code> object to the <code>elements_selector</code> option, as suggested by @SassNinja in #130.</p>
<h4 id="10-0-1"><a href="#10-0-1" class="headerlink" title="10.0.1"></a>10.0.1</h4><p>Solved a problem with cdnjs.com: version 10.0.0 was pointing to 9.0.0.</p>
<h4 id="10-0-0"><a href="#10-0-0" class="headerlink" title="10.0.0"></a>10.0.0</h4><ul>
<li>Change in default options:<ul>
<li>default for <code>data_src</code> is now <code>src</code> (was <code>original</code>)</li>
<li>default for <code>data_srcset</code> is now <code>srcset</code> (was <code>original-set</code>)</li>
</ul>
</li>
</ul>
<h2 id="Version-9"><a href="#Version-9" class="headerlink" title="Version 9"></a>Version 9</h2><h4 id="9-0-1"><a href="#9-0-1" class="headerlink" title="9.0.1"></a>9.0.1</h4><ul>
<li>Restored tests using Jest</li>
<li>Squashed a bug which didn‚Äôt make images inside <code>picture</code> load correctly</li>
</ul>
<h4 id="9-0-0"><a href="#9-0-0" class="headerlink" title="9.0.0"></a>9.0.0</h4><p>LazyLoad is now <em>faster</em> thanks to the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API">Intersection Observer API</a>.</p>
<p><strong>IMPORTANT!</strong> Browser support changed. Find more information in the <a href="README.md">README</a> file.</p>
<h2 id="Version-8"><a href="#Version-8" class="headerlink" title="Version 8"></a>Version 8</h2><h4 id="8-17-0"><a href="#8-17-0" class="headerlink" title="8.17.0"></a>8.17.0</h4><ul>
<li>Added the ability to know when all images have been downloaded through the <code>callback_finish</code> callback.</li>
<li>Added the file <code>demos/print.html</code> to demo how to print lazy images.</li>
</ul>
<h4 id="8-16-0"><a href="#8-16-0" class="headerlink" title="8.16.0"></a>8.16.0</h4><p>Added the ability to have multiple background images, through the new <code>data_bg</code> option.</p>
<h4 id="8-15-2"><a href="#8-15-2" class="headerlink" title="8.15.2"></a>8.15.2</h4><p><strong>BUGFIX</strong>: Class <code>loaded</code> was not applied to a loaded video (issue #239).</p>
<h4 id="8-15-1"><a href="#8-15-1" class="headerlink" title="8.15.1"></a>8.15.1</h4><p><strong>BUGFIX</strong>: Autoplaying video not loaded correctly after entering the viewport (issue #240). Thanks to @maeligg.</p>
<h4 id="8-15-0"><a href="#8-15-0" class="headerlink" title="8.15.0"></a>8.15.0</h4><ul>
<li>Refactorized code &amp; improved script performance</li>
<li><strong>BUGFIX</strong>: Fixed webpack import (issue #230) <code>TypeError: default is not a constructor</code></li>
</ul>
<h4 id="8-14-0"><a href="#8-14-0" class="headerlink" title="8.14.0"></a>8.14.0</h4><p>Now supporting WebP through dynamic extension rename if the user browser is compatible.</p>
<h4 id="8-13-0"><a href="#8-13-0" class="headerlink" title="8.13.0"></a>8.13.0</h4><ul>
<li>Shortened the RegEx for crawlers detection (shaved a few bytes)</li>
<li>Released LazyLoad in new module types! Enjoy the new flavours :)</li>
</ul>
<table>
<thead>
<tr>
<th>Filename</th>
<th>Module Type</th>
<th>Advantages</th>
</tr>
</thead>
<tbody><tr>
<td><code>lazyload.min.js</code></td>
<td>UMD (Universal Module Definition)</td>
<td>Works pretty much everywhere, even in common-js contexts</td>
</tr>
<tr>
<td><code>lazyload.iife.min.js</code></td>
<td>IIFE (Immediately Invoked Function Expression)</td>
<td>Works as in-page <code>&lt;script src=&quot;&quot;&gt;</code>, ~0.5kb smaller minified</td>
</tr>
<tr>
<td><code>lazyload.amd.min.js</code></td>
<td>AMD (Asynchronous Module Definition)</td>
<td>Works with the <em>require.js</em> module loader, ~0.5kb smaller minified</td>
</tr>
<tr>
<td><code>lazyload.es2015.js</code></td>
<td>ES Module type</td>
<td>Exports <code>LazyLoad</code> so you can import it in your project</td>
</tr>
</tbody></table>
<h4 id="8-12-0"><a href="#8-12-0" class="headerlink" title="8.12.0"></a>8.12.0</h4><p>SEO! Expanded SEO-friendliness to more crawlers, Bingbot included.</p>
<h4 id="8-11-0"><a href="#8-11-0" class="headerlink" title="8.11.0"></a>8.11.0</h4><p>Added a public <code>load</code> method to lazyload any element.</p>
<h4 id="8-10-0"><a href="#8-10-0" class="headerlink" title="8.10.0"></a>8.10.0</h4><p>Added the ability to lazily set the <code>sizes</code> attribute via a <code>data-sizes</code> attribute.<br>See the <a href="README.md">README</a> file for more information.</p>
<h4 id="8-9-0"><a href="#8-9-0" class="headerlink" title="8.9.0"></a>8.9.0</h4><p>Added a public <code>loadAll</code> method to load all the images, as asked in #193.</p>
<h4 id="8-8-0"><a href="#8-8-0" class="headerlink" title="8.8.0"></a>8.8.0</h4><p>Added support for the <code>video</code> tag. Closes #209.<br>Created the <code>video.html</code> demo.</p>
<h4 id="8-7-1"><a href="#8-7-1" class="headerlink" title="8.7.1"></a>8.7.1</h4><p>Added a security check on lazy elements‚Äô parents.</p>
<h4 id="8-7-0"><a href="#8-7-0" class="headerlink" title="8.7.0"></a>8.7.0</h4><p>Added node support by merging pull request #188, ‚Äúnode-support‚Äù by @klarstrup.</p>
<p>With these changes in place, simply importing vanilla-lazyload without using it won‚Äôt crash Node by itself. This is important for isomorphic/universal/server rendered setups where the same code runs on both the server and the browser.</p>
<h4 id="8-6-0"><a href="#8-6-0" class="headerlink" title="8.6.0"></a>8.6.0</h4><p>Added the <code>callback_enter</code> callback, which is called whenevery any element managed by LazyLoad enters the viewport, as requested in #159. Thanks to @alvarotrigo.</p>
<h4 id="8-5-2"><a href="#8-5-2" class="headerlink" title="8.5.2"></a>8.5.2</h4><p>Fixed a bug that could occur on older versions of IE when trying to access an image‚Äôs parent node.</p>
<h4 id="8-5-1"><a href="#8-5-1" class="headerlink" title="8.5.1"></a>8.5.1</h4><p>Fixed a CustomEvent bug which occured on IE when using async object initialization.</p>
<h4 id="8-5-0"><a href="#8-5-0" class="headerlink" title="8.5.0"></a>8.5.0</h4><ul>
<li>Change in default options, in order to be aligned with version 10<ul>
<li>default for <code>data_src</code> is now <code>src</code> (was <code>original</code>)</li>
<li>default for <code>data_srcset</code> is now <code>srcset</code> (was <code>original-set</code>)</li>
</ul>
</li>
</ul>
<h4 id="8-2-1"><a href="#8-2-1" class="headerlink" title="8.2.1"></a>8.2.1</h4><p>Fixed <code>supportsClassList</code> test to work even when the <code>document</code> object isn‚Äôt yet there. Thanks to @Spone and his #145.</p>
<h4 id="8-2-0"><a href="#8-2-0" class="headerlink" title="8.2.0"></a>8.2.0</h4><p>Restored support to IE9 and IE10, as requested in #118 and #132.</p>
<h4 id="8-1-0"><a href="#8-1-0" class="headerlink" title="8.1.0"></a>8.1.0</h4><p>Updated from grunt to gulp (run with gulp scripts).</p>
<h4 id="8-0-3"><a href="#8-0-3" class="headerlink" title="8.0.3"></a>8.0.3</h4><p>Added quotes in background image URLs, as suggested in #114 (thanks to @vseva).</p>
<h4 id="8-0-2"><a href="#8-0-2" class="headerlink" title="8.0.2"></a>8.0.2</h4><p>Fixed a bug that affected performance.</p>
<h4 id="8-0-1"><a href="#8-0-1" class="headerlink" title="8.0.1"></a>8.0.1</h4><p>Fixed reference to old names in demo files.</p>
<h4 id="8-0-0"><a href="#8-0-0" class="headerlink" title="8.0.0"></a>8.0.0</h4><ul>
<li>The main file to include is now <strong><code>dist/lazyload.min.js</code></strong> as you would expect, and no longer <code>dist/lazyload.transpiled.min.js</code>.</li>
<li>The non-transpiled version is now named lazyload.es2015.js</li>
</ul>
<h2 id="Version-7"><a href="#Version-7" class="headerlink" title="Version 7"></a>Version 7</h2><h4 id="7-2-0"><a href="#7-2-0" class="headerlink" title="7.2.0"></a>7.2.0</h4><ul>
<li>Now using <code>element.dataset</code> to read data attributes</li>
<li>New readme! New website!</li>
</ul>
<p>Bug fixes:</p>
<ul>
<li>Fixed #87</li>
</ul>
<p><strong>IMPORTANT!</strong> Browser support changed. Find more information in the <a href="README.md">README</a> file.</p>
<h4 id="7-1-0"><a href="#7-1-0" class="headerlink" title="7.1.0"></a>7.1.0</h4><ul>
<li>Refactored code now using more modules</li>
<li>Saving ~0.5 kb of transpiled code going back from ES2015 <code>class</code> to function‚Äôs <code>prototype</code></li>
</ul>
<h4 id="7-0-0"><a href="#7-0-0" class="headerlink" title="7.0.0"></a>7.0.0</h4><p>Source code converted to ES2015 modules, bundled with <a href="https://rollupjs.org/">rollup.js</a> and transpiled with <a href="https://babeljs.io/">babel</a>.</p>
<h2 id="Version-6"><a href="#Version-6" class="headerlink" title="Version 6"></a>Version 6</h2><h4 id="6-3-x"><a href="#6-3-x" class="headerlink" title="6.3.x"></a>6.3.x</h4><p>Added the class initial to all images (or iframes) inside the viewport at the moment of script initialization</p>
<h4 id="6-2-x"><a href="#6-2-x" class="headerlink" title="6.2.x"></a>6.2.x</h4><ul>
<li>Added the ability to load LazyLoad using an async script</li>
</ul>
<h4 id="6-1-x"><a href="#6-1-x" class="headerlink" title="6.1.x"></a>6.1.x</h4><p>SEO improvements for lazily loaded images</p>
<h4 id="6-0-x"><a href="#6-0-x" class="headerlink" title="6.0.x"></a>6.0.x</h4><ul>
<li>Source code migrated to ES6 / ES2015</li>
<li>Serving both minified ES6 version and minified transpiled-to-ES5 version</li>
</ul>
<h2 id="Version-5"><a href="#Version-5" class="headerlink" title="Version 5"></a>Version 5</h2><ul>
<li>Exposed private functions for test coverage</li>
<li>Test coverage</li>
</ul>
<h2 id="Version-4"><a href="#Version-4" class="headerlink" title="Version 4"></a>Version 4</h2><ul>
<li>Lighter constructor</li>
<li>Performance improvements</li>
<li>Bugfix: null on background images</li>
<li>Removed code for legacy browsers - now supporting IE10+</li>
</ul>
<h2 id="Version-3"><a href="#Version-3" class="headerlink" title="Version 3"></a>Version 3</h2><ul>
<li>Added support to the picture tag</li>
<li>Removed the ‚Äúshow image only when fully loaded‚Äù mode<ul>
<li>Dumped the show_while_loading and placeholder options</li>
</ul>
</li>
</ul>
<h2 id="Version-2"><a href="#Version-2" class="headerlink" title="Version 2"></a>Version 2</h2><ul>
<li>Added support to lazily load iframes and background images</li>
<li>Added error management callback and error class option</li>
<li>Performance improvements</li>
</ul>
<h2 id="Version-1"><a href="#Version-1" class="headerlink" title="Version 1"></a>Version 1</h2><ul>
<li>Added support to the srcset attribute for images</li>
<li>Added typescript typings + updated dist folder files</li>
<li>Performance improvements</li>
<li>Stable release of LazyLoad</li>
</ul>
<hr>
<p><em>Want more detail? Take a look at the <a href="https://github.com/verlok/vanilla-lazyload/releases">release history</a> on GitHub</em>!</p>
